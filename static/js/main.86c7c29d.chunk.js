(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,a){},8:function(e,t,a){e.exports=a(9)},9:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(3),i=a(1),l=a(5),s=a(4),o=a(0),c=a.n(o),u=a(7),h=a.n(u),v=(a(14),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var r;Object(n.a)(this,a),(r=t.call(this,e)).state={rule:126,ruleMap:Array(8),history:[],view:[],iteration:1,viewIter:1,nRow:40,nCell:80};var l=r.state.nRow,s=r.state.nCell,o=Array(s).fill(0);o[Math.floor(s/2)]=1,r.state.history[0]=o,r.state.view[0]=o;for(var c=1;c<l;c++)r.state.view.push(Array(s).fill(0));for(var u=0;u<8;u++)r.state.ruleMap[u]=Math.floor(r.state.rule/Math.pow(2,u))%2;return r.forward=r.forward.bind(Object(i.a)(r)),r.rewind=r.rewind.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"forward",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.state.iteration,a=this.state.viewIter,n=this.state.history,r=this.state.view,i=this.state.nRow,l=n[n.length-1],s=l.slice(),o=0;o<e;o++)if(a==t){for(var c=0;c<l.length;c++){var u=[];u[0]=0===c?l[l.length-1]:l[c-1],u[1]=l[c],c===l.length-1?u[2]=l[0]:u[2]=l[c+1];var h=u[0];h+=2*u[1],h+=4*u[2],s[c]=this.state.ruleMap[h]}t<i?r[t]=s:r=r.slice(1).concat([s]),s=(l=(n=n.concat([s]))[n.length-1]).slice(),t+=1,a+=1}else a+=1,r=n.slice(a-i,a);this.setState({view:r,history:n,viewIter:a,iteration:t})}},{key:"rewind",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.state.viewIter,a=this.state.history,n=this.state.view,r=this.state.nRow,i=0;i<e;i++)t>r&&(t-=1,n=a.slice(t-r,t));this.setState({view:n,viewIter:t})}},{key:"JumpToStart",value:function(){var e=this.state.history,t=this.state.nRow;this.state.viewIter>t&&this.setState({view:e.slice(0,t),viewIter:t})}},{key:"JumpToEnd",value:function(){var e=this.state.history,t=this.state.nRow;this.state.viewIter>=t&&this.setState({view:e.slice(e.length-t,e.length),viewIter:e.length})}},{key:"ruleChange",value:function(e){for(var t=this.state.ruleMap,a=0;a<8;a++)t[a]=Math.floor(e/Math.pow(2,a))%2;this.setState({rule:parseInt(e),ruleMap:t})}},{key:"reset",value:function(){for(var e=this.state.history,t=this.state.nRow,a=this.state.nCell,n=e.slice(0,1),r=e.slice(0,1),i=1;i<t;i++)r[i]=Array(a).fill(0);this.setState({history:n,iteration:1,viewIter:1,view:r})}},{key:"changeSquare",value:function(e){this.state.viewIter,this.state.nRows;var t=this.state.view,a=this.state.history,n=a[a.length-1],r=Math.min(this.state.viewIter-1,this.state.nRows-1);n[e]=1^n[e],t[r]=n,a[a.length-1]=n,this.setState({history:a,view:t})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"content-wrapper"},c.a.createElement("div",{className:"grid"},c.a.createElement(m,{view:this.state.view,viewIter:this.state.viewIter,iteration:this.state.iteration,onClick:function(t){return e.changeSquare(t)}})),c.a.createElement("div",{className:"button-wrapper clearfix"},c.a.createElement("div",{className:"formContainer"},c.a.createElement(d,{onSubmit:function(t){return e.ruleChange(t)}})),c.a.createElement(w,{className:"controlButton",label:"Next",onClick:function(){return e.forward()}}),c.a.createElement(w,{className:"controlButton",label:"Back",onClick:function(){return e.rewind()}}),c.a.createElement(w,{className:"controlButton",label:"Next 10",onClick:function(){return e.forward(10)}}),c.a.createElement(w,{className:"controlButton",label:"Back 10",onClick:function(){return e.rewind(10)}}),c.a.createElement(w,{className:"controlButton",label:"Jump to start",onClick:function(){return e.JumpToStart()}}),c.a.createElement(w,{className:"controlButton",label:"Jump to end",onClick:function(){return e.JumpToEnd()}}),c.a.createElement(w,{className:"controlButton",label:"Reset",onClick:function(){return e.reset()}})),c.a.createElement("div",{className:"infoContainer"},c.a.createElement("table",null,c.a.createElement("tr",null,c.a.createElement("td",null,"Rule:"),c.a.createElement("td",null,this.state.rule)),c.a.createElement("tr",null,c.a.createElement("td",null,"Gens:"),c.a.createElement("td",null,this.state.iteration)),c.a.createElement("tr",null,c.a.createElement("td",null,"Index:"),c.a.createElement("td",null,this.state.viewIter)))))}}]),a}(c.a.Component)),m=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"renderSquares",value:function(){for(var e=this,t=this.props.view.length,a=this.props.view[0].length,n=this.props.viewIter,r=this.props.iteration,i=[],l=0;l<t;l++){var s=[],o=Math.min(n-1,t-1);if(n==r&&l==o)for(var u=function(t){s.push(c.a.createElement(p,{key:(10*l+t).toString(),alive:e.props.view[l][t],onClick:function(){return e.props.onClick(t)}}))},h=0;h<a;h++)u(h);else for(var v=0;v<a;v++)s.push(c.a.createElement(f,{key:(10*l+v).toString(),alive:this.props.view[l][v]}));i.push(c.a.createElement("div",{className:"row"},s))}return i}},{key:"render",value:function(){return this.renderSquares()}}]),a}(c.a.Component);function f(e){var t=e.alive?"#ff5638":"white";return c.a.createElement("div",{className:"square",style:{"background-color":t,"box-sizing":"border-box"}})}var p=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("button",{className:"buttonSquare",style:{"background-color":this.props.alive?"#ff5638":"#e0e0e0"},onClick:this.props.onClick})}}]),a}(c.a.Component);function w(e){return c.a.createElement("button",{className:e.className,onClick:e.onClick},e.label)}var d=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={value:"126"},r.handleChange=r.handleChange.bind(Object(i.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){this.props.onSubmit(this.state.value),e.preventDefault()}},{key:"render",value:function(){return c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("label",null,"Rule=",c.a.createElement("input",{type:"text",value:this.state.value,style:{width:"40px"},onChange:this.handleChange})),c.a.createElement("input",{type:"submit",value:"submit"}))}}]),a}(c.a.Component);h.a.render(c.a.createElement(v,null),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.86c7c29d.chunk.js.map